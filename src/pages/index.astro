---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import InfiniteScrollingBackground from "../components/InfiniteScrollingBackground.astro";
import { ImageEnum, pictures } from "../types/imagePaths";
---

<Layout title="Welcome to Astro.">
  <!-- todo 实现背景滚动 -->
  <div class="frame">
    <div class="frame_line" data-line-1></div>
    <div class="frame_line" data-line-2></div>
    <div class="frame_line" data-line-3></div>
    <div class="frame_line" data-line-4></div>
  </div>
  <div id="scrollBg" style={{ overflow: "scroll", height: "100vh" }}>
    <div
      style={{
        // width: "100000px",
        height: "100%",
        display: "flex",
        flexWrap: "nowrap",
        padding: "20vh 22vh",
      }}
    >
      {
          pictures.reverse().map((src) => (
          <div style={{ paddingRight: "20vh", zIndex: 1000 }}>
            <Card imagePath={src} />
          </div>
        ))
      }
    </div>
  </div>
  <InfiniteScrollingBackground />
</Layout>

<style>
  #scrollBg::-webkit-scrollbar {
    display: none;
  }
  .frame {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
    transition-property: opacity;
    transition-duration: 1.2s;
    transition-timing-function: cubic-bezier(0.3, 0.1, 0.1, 1);
    transition-delay: 0.4s;
    opacity: 1;
  }
  .frame_line {
    position: absolute;
    left: 0;
    width: 100%;
    height: 4px;
    background-color: #000;
  }
  .frame_line[data-line-1] {
    top: calc(20% - 2px);
  }
  .frame_line[data-line-2] {
    top: calc(40% - 2px);
  }
  .frame_line[data-line-3] {
    top: calc(60% - 2px);
  }
  .frame_line[data-line-4] {
    top: calc(80% - 2px);
  }
  .gallery_wrap {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  .gallery_list {
    height: 100%;
    will-change: transform;
  }
</style>
